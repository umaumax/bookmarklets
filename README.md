# bookmarklets

`*.user.js` files are for [Tampermonkey â€¢ Userscript Sources]( https://www.tampermonkey.net/scripts.php ).

## â­[url-to-clipboard.user.js]( https://github.com/umaumax/bookmarklets/raw/master/url-to-clipboard.user.js )
This copies url to clibpboard as markdown style with toast notification.

## â­[copy-css-background-img-url.user.js]( https://github.com/umaumax/bookmarklets/raw/master/copy-css-background-img-url.user.js )
This copy css background image url to clibpboard with toast notification.

## [code-prettify.js]( https://github.com/umaumax/bookmarklets/blob/master/code-prettify.js )
This adopts google `code-prettify.js` with `linenums` option and `desert` style to any code blocks.

<details>
<summary>FMI</summary>

* `github.com`å†…ã ã¨ï¼Œ`Content Security Policy`ã®å½±éŸ¿ã§å¤–éƒ¨javascriptã‚„cssãŒèª­ã¿è¾¼ã‚ãªã„å•é¡ŒãŒã‚ã‚‹(è¨±å¯ã•ã‚Œã¦ã„ã‚‹URLã¯`github.githubassets.com`)
  * CDN(`https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js`),`https://raw.githubusercontent.com/google/code-prettify/master/src/prettify.js`,`https://raw.github.com/google/code-prettify/master/src/prettify.js`,`https://github.com/google/code-prettify/raw/master/src/prettify.js`ãªã©ã¯åˆ©ç”¨ã§ããªã„
  * çµè«–: bookmarkletã®ä¸­ã«åŸ‹ã‚è¾¼ã‚ã°ã‚ˆã„
* `run_prettify.js`ã‚’åˆ©ç”¨ã—ãŸã¨ãã«ã¯è‡ªå‹•çš„ã«é©ç”¨ã•ã‚Œã‚‹ãŒï¼Œ`prettify.js`ã¨`prettify.css`ã‚’åˆ†å‰²ã—ã¦èª­ã¿è¾¼ã‚€å ´åˆã«ã¯`PR.prettyPrint()`ãŒå¿…è¦
* `https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js`ã¯`https://google-code-prettify.googlecode.com/svn/loader/prettify.css`ã«ä¾å­˜ã™ã‚‹ã®ã§`Content Security Policy`ã«é•åã™ã‚‹
</details>

## [code-prettify.user.js ]( https://github.com/umaumax/bookmarklets/raw/master/code-prettify.user.js )

## ğŸ”§[niconico-adblocker.user.js]( https://github.com/umaumax/bookmarklets/raw/master/niconico-adblocker.user.js )
This skips ads of Niconico movie site.(Under Maintenance)

## [niconico-adblocker.us]( https://github.com/umaumax/bookmarklets/raw/master/niconico-adblocker.us )
This skips ads of TVer site.

## [navigator.platform-switcher.user.js]( https://github.com/umaumax/bookmarklets/raw/master/navigator.platform-switcher.user.js )
ç‰¹å®šã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å½é€ ã™ã‚‹(ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚µã‚¤ãƒˆå‘ã‘)

## [gitlab-wiki-sidebar-expander.user.js]( https://github.com/umaumax/bookmarklets/raw/master/gitlab-wiki-sidebar-expander.user.js )
gitlabã®wikiã®å³å´ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’éš ã™(ã‚¯ãƒªãƒƒã‚¯ or command or ctrl or ctrl+fã§å‡ºç¾)

## [gitlab-wiki-search-filter.user.js]( https://github.com/umaumax/bookmarklets/raw/master/gitlab-wiki-search-filter.user.js )
* ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã«æ¤œç´¢ãŒã§ãã‚‹
* ç›´æ¥ã€å„ãƒˆãƒ”ãƒƒã‚¯ã¸ã‚¸ãƒ£ãƒ³ãƒ—ã§ãã‚‹

## [disable-google-account-popup.user.js]( https://github.com/umaumax/bookmarklets/raw/master/disable-google-account-popup.user.js )
redditã®google account loginã®popupã‚’æŠ‘åˆ¶ã™ã‚‹

## [github-issue-extension.user.js]( https://github.com/umaumax/bookmarklets/raw/master/github-issue-extension.user.js )
Add `Edit` button to edit an issue comment in one operation.

## [github-wiki-edit.user.js]( https://github.com/umaumax/bookmarklets/raw/master/github-wiki-edit.user.js )
githubã®wikiã®editã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã‚’å®šç¾©ã™ã‚‹(gitlabã¨åŒã˜)

## [clipboard-copy.user.js]( https://github.com/umaumax/bookmarklets/raw/master/clipboard-copy.user.js )
githubã®pull requestã®ç‰¹å®šã®commitã®shaã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã™ã‚‹

## [filtering-sony-books.js]( https://github.com/umaumax/bookmarklets/raw/master/filtering-sony-books.js )
Sony Readerã®ç„¡æ–™æœ¬ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’ã™ã‚‹(ã‚¢ã‚¤ã‚³ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰å®Ÿè¡Œã™ã‚‹)

## [auto-scroll-extension-in-page.user.js]( https://github.com/umaumax/bookmarklets/raw/master/auto-scroll-extension-in-page.user.js )
`#id`ã®ãƒªãƒ³ã‚¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’jQueryã®ã‚»ãƒ¬ã‚¯ã‚¿è¡¨è¨˜ã«ã‚‚å¯¾å¿œã™ã‚‹æ‹¡å¼µ

ã¤ã„ã§ã«ã€gitlabã®wikiã‚’editã™ã‚‹éš›ã«ã€ç¾åœ¨ã®ãƒ“ãƒ¥ãƒ¼ä½ç½®ã«è‡ªå‹•çš„ã«é·ç§»ã™ã‚‹æ©Ÿèƒ½ã‚’ä»˜åŠ ã—ã¦ã„ã‚‹(ãªãŠã€ã“ã®æ©Ÿèƒ½ã¯ç‹¬ç«‹ã—ãŸuser scriptã¨ã—ã¦åˆ†é›¢å¯èƒ½ã§ã‚ã‚‹)

e.g. [GitHub \- Wikipedia - GitHub Actions]( https://ja.wikipedia.org/wiki/GitHub?key=value#h3:contains(%22GitHub%20Actions%22) )

``` markdown
[GitHub \- Wikipedia - GitHub Actions]( https://ja.wikipedia.org/wiki/GitHub?key=value#h3:contains(%22GitHub%20Actions%22) )
```

## [qiita-trend.user.js]( https://github.com/umaumax/bookmarklets/raw/master/qiita-trend.user.js )
qiitaã®trendã®è¡¨ç¤ºã‚’æ˜¨æ—¥ã®æ—¥ä»˜ã®ã¿ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã™ã‚‹

## markdownizer.js
convert normal text to markdown text

* `markdownizer-pre.js`: search css selector is `pre`
  * you can try this bookmarklet at [Markdownè¨˜æ³• ã‚µãƒ³ãƒ—ãƒ«é›† \- Qiita]( https://qiita.com/tbpgr/items/989c6badefff69377da7 )
* `markdownizer-jira.js`: for body content and comments

FYI: [Markdownã‚’ã€ŒMarked\.jsã€ã‚’ä½¿ã£ã¦HTMLã«å¤‰æ›ã™ã‚‹æ–¹æ³• \- suzu6]( https://www.suzu6.net/posts/38/ )

## examples
### gerrit: expand all comments
``` js
javascript: document.querySelectorAll("gr-message").forEach(e => e.click()); void(0);
```

## NOTE

## How to add bookmarklets
* mac: `cmd-D`->`More`->`URL`(paste here)

## ã‚³ãƒ¼ãƒ‰ä½œæˆæ™‚ã®æ³¨æ„
* javascriptã®ä»•æ§˜ä¸Šçœç•¥å¯èƒ½ã§ã‚ã‚‹ãŒï¼Œãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆåŒ–ã™ã‚‹éš›ã«ã¯ã†ã¾ãå‡¦ç†ã•ã‚Œãªã„ã‚ˆã†ã®ã§ï¼Œ`;`ã¯å¿…ãšå…¥ã‚Œã‚‹ã“ã¨
  * ç‰¹ã«ï¼Œè¤‡æ•°è¡Œã®é–¢æ•°å®£è¨€ã®ã¨ãã«å¿˜ã‚ŒãŒã¡ãªã®ã§æ³¨æ„(`function xxx(){};`)
  * ã‚³ãƒ¡ãƒ³ãƒˆã¯`/**/`ã§è¨˜è¿°ã™ã‚‹ã“ã¨
* ç†ç”±ã¯ä¸æ˜ã ãŒï¼Œminifiedãªã‚³ãƒ¼ãƒ‰ã¯ãªãœã‹ç›´æ¥å‹•ä½œã—ãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹
  * ãŸã ã—ï¼Œé€šå¸¸ã®debug consoleã§ã¯å•é¡Œãªã„
* cssã®åŸ‹ã‚è¾¼ã¿ã«é–¢ã—ã¦ï¼Œcssã‚’javascriptã®æ–‡å­—åˆ—ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
  * minifiedãªcssãŒãŸã¾ãŸã¾single quoteãŒä½¿ç”¨ã•ã‚Œã¦ã„ãªã„å ´åˆã«ã¯ï¼Œãã®ã¾ã¾åˆ©ç”¨å¯èƒ½
    * ãã†ã§ã¯ãªã„å ´åˆã«ã¯ï¼Œbase64ã‚’åˆ©ç”¨ã™ã‚Œã°ã‚ˆã„ã¯ãš
* cssã‚’å¤–éƒ¨ã‹ã‚‰å–å¾—ã™ã‚‹éš›ã«githubã®rawã®URLã‚’åˆ©ç”¨ã™ã‚‹ã¨ï¼Œ`Refused to apply style from 'https://raw.githubusercontent.com/<user>/<repo>/master/xxx.css' because its MIME type ('text/plain') is not a supported stylesheet MIME type, and strict MIME checking is enabled.`ã¨ãªã‚Šï¼Œç„¡åŠ¹åŒ–ã•ã‚Œã¦ã—ã¾ã†
  * `https://cdn.jsdelivr.net/gh/$USER/$REPO@master/$FILEPATH`ã‚’æŒ‡å®šã™ã‚‹ã¨è‡ªå‹•çš„ã«githubã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’MIMEä»˜ãã§é…å¸ƒã—ã¦ãã‚Œã‚‹CDNãŒå­˜åœ¨ã™ã‚‹ã®ã§ãã‚Œã‚’åˆ©ç”¨ã™ã¨è‰¯ã„
  * [Migrate from GitHub to jsDelivr]( https://www.jsdelivr.com/github )
    * `github.com`ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®URLã§ã‚‚`raw.githubusercontent.com`ã®URLã§ã‚‚OK
* httpsã®ã‚µã‚¤ãƒˆã«ã¦ï¼ŒhttpçµŒç”±ã®cssã‚’åˆ©ç”¨ã™ã‚‹å ´åˆï¼Œä¸‹è¨˜ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã‚ˆã£ã¦ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹
```
VM1271:1 Mixed Content: The page at 'https://www.xxx.com/' was loaded over HTTPS, but requested an insecure stylesheet 'http://xxx.yyy.com/xxx.css'. This request has been blocked; the content must be served over HTTPS.
```

## tips
ä¸‹è¨˜ã‚’åˆ©ç”¨ã™ã‚Œã°ï¼Œä¸­é€”åŠç«¯ãªçŠ¶æ…‹ã®javascriptã§ã‚‚ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆåŒ–ã§ãã‚‹ãŒï¼Œã‚³ãƒ¼ãƒ‰ãŒå¤šå°‘ã‚ã‹ã‚Šã«ãããªã‚‹ã®ã§æ³¨æ„
* [Closure Compiler Service]( https://closure-compiler.appspot.com/home )
  * [Communicating with the Closure Compiler Service API]( https://developers.google.com/closure/compiler/docs/api-tutorial1#how-to-communciate-with-the-api )

``` bash
brew install closure-compiler
```

``` bash
closure-compiler $target_js_file
```

### css selector
developer consoleã§è¦ç´ ã‚’å–å¾—ã§ãã¦ã„ã‚‹ã‹ã©ã†ã‹ã®ç¢ºèªæ–¹æ³•

``` js
var target_selector = 'div[class="xxx yyy"], div[class="abc def"]';
Array.prototype.forEach.call(document.querySelectorAll(target_selector), function(element) {
  console.log(element);
});
```

## links
* [Bookmarkletã‚’ä½œã‚ã†\(æº–å‚™ç·¨ï¼‰ \- Qiita]( https://qiita.com/kanaxx/items/63debe502aacd73c3cb8 )

ä¸‹è¨˜ã¯ã‚ãã¾ã§`URL`ã ãŒã€ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®é•·ã•ã®å‚è€ƒç¨‹åº¦ã«

* [å„ç¨®OS/ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®é•·ã„ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆ ã®ã‚ã‚‹URLã®é•·ã•ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸ \- Qiita]( https://qiita.com/nwtgck/items/e83473dc63386d2da3e5 )

> ã¾ãŸã€é•·ã•100ä¸‡ã®URLã‚’Google Chromeã§ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã—ãŸã€‚ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã—ãŸã‚ã¨ã€é–‹ã„ã¦ã‚‚ã¡ã‚ƒã‚“ã¨é•·ã•100ä¸‡ã‚ã‚Šã¾ã—ãŸã€‚
